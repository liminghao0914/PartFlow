<!DOCTYPE html>
<!-- saved from url=(0053)http://echarts.caixin.com/doc/example/www2/index.html -->
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>ECharts</title>
</head>
<body>
<script src="echarts.min.js"></script>
<div id="main" style="width:100%;height:500px;">
<script type="text/javascript">
     var myChart = echarts.init(document.getElementById('main'));

     window.onresize = myChart.resize;
   //  myChart.showLoading();
function getData(data){
    // 填入数据
    myChart.hideLoading();
    myChart.setOption({
    color:['#6A95E5','#2D85E4','#7275C7','#32ABBE','#8BC5A1','#509390','#3F7981','#36606E','#2F4858','#505F78','#787695','#FFBDCD','#FFCCC2','#FF9770','#FF82A0','#D75CB1','#855EC3'],
    legend: {
        orient: 'vertical',
        left: '10',
        right:'10',
        top: 320,
        bottom:'100',
        itemWidth:20,
        itemHeight:20,
        textStyle:{
        fontSize: '14',
        color: '#333333'
        },
        formatter:function (name) {
        num = 0;
        data.data.forEach(function(value,i){
        if(value.name==name){
        num = i;
        }
        });
        num = data.data[num].value
        num = (num-num%60)/60
        if(num<60){
        return name+'('+(num)+'min)';
        }else{
    return ' '+name+'('+(num-num%60)/60+'h'+(num%60)+'min)';}
        },
    },
    series: [
     {
            name: '时间占比',
            type: 'pie',
            radius: ['60%', '60%'],
            center: ['50%', '30%'],
            avoidLabelOverlap: false,
            hoverAnimation:false,
            silent:false,
            label: {
                show: true,
                position: 'inside',
               formatter:'{d}%'
            },

            labelLine: {
                show: false
            },
            data: data.data
        },

        {
            name: '时间占比',
            type: 'pie',
            radius: ['50%', '70%'],
            center: ['50%', '30%'],
            avoidLabelOverlap: false,

            label: {
                show: false,
                position: 'center',
                formatter: function(data) {
    if (data.data.name.length > 11) {
      return data.data.name.substring(0,10)+"...";
    } else {
      return data.data.name;
    }
  }
            },
            emphasis: {
                label: {
                    show: true,
                    position:'center',
                    fontSize: '16',
                    fontWeight: 'bold'
                    }
            },
            labelLine: {
                show: true
            },
            data: data.data
        }
    ]




});

    /*窗口自适应，关键代码*/
	        	setTimeout(function (){
	        	    window.onresize = function () {
	        	    	//myChart.resize();
	        	    }
	        	},200)

}

</script>
</body>
</html>
